<div class="flex flex-col h-full pt-[1.4rem] px-[2rem]">
  <header class="flex items-center justify-between">
    <div>
      <h1 class="text-[1.6rem] text-foreground font-bold">Categories</h1>
      <p class="text-sm text-muted-foreground mt-[0.2rem]">Manage your note collections</p>
    </div>
    <button
      (click)="showModal.set(true)"
      class="flex items-center gap-2 px-[0.6rem] py-[0.3rem] rounded-lg bg-primary text-primary-foreground text-[0.8rem] font-[700] hover:opacity-85 transition-opacity"
    >
      <lucide-icon [img]="PlusIcon" class="w-[1rem] mr-[0.4rem]"></lucide-icon>
      Add Category
    </button>
  </header>

  <div class="flex-1 pb-8 mt-[2rem]">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-[1rem]">
      @for (category of categories(); track category.id) {
        <!-- @let count = getNotesCount(category.name); -->

        <div
          class="flex flex-col p-[1.5rem] bg-card rounded-xl border border-border hover:shadow-md transition-shadow"
        >
          <div
            class="flex items-center justify-center w-[3rem] h-[3rem] rounded-xl mb-[1rem] bg-white"
          >
            <img
              [src]="category.icon || defaultIcon"
              class="w-[2.4rem] h-[2.4rem] object-contain"
            />
          </div>

          <h3 class="text-base font-[600] text-foreground mb-[0.3rem]">{{ category.name }}</h3>
          <!-- <p class="text-[0.75rem] text-muted-foreground mb-[1rem]">
            {{ count }} {{ count === 1 ? 'note' : 'notes' }}
          </p> -->

          <!-- <a href="#" class="text-[0.75rem] font-[500] text-[#3b82f6] hover:underline mt-auto">
            View Notes â†’
          </a> -->
        </div>
      }
    </div>
  </div>

  @if (showModal()) {
    <app-category-modal (close)="showModal.set(false)" (create)="handleCreateCategory($event)">
    </app-category-modal>
  }
</div>
