<div class="flex items-center justify-center min-h-screen bg-background">
  <div class="w-full max-w-md p-[2.5rem] bg-card rounded-xl border border-border shadow-sm">
    <div class="flex flex-col items-center mb-6">
      <div class="flex items-center justify-center w-[3rem] h-[3rem] rounded-md bg-primary mb-4">
        <lucide-icon [name]="BrainCircuit" class="w-6 h-6 text-primary-foreground"></lucide-icon>
      </div>
      <h1 class="text-2xl mt-[1rem] font-bold text-foreground text-balance">Create Account</h1>
      <p class="text-sm mb-[1rem] text-muted-foreground text-center">
        Start organizing your thoughts today
      </p>
    </div>

    @if (error()) {
      <div class="mb-4 p-3 text-sm text-red-500 bg-red-50 rounded-lg border border-red-100">
        {{ error() }}
      </div>
    }

    <form (ngSubmit)="onRegister()" class="space-y-4">
      <div>
        <label for="email" class="block text-sm font-medium text-foreground mb-1">Email</label>
        <input
          id="email"
          type="email"
          [ngModel]="email()"
          (ngModelChange)="email.set($event)"
          name="email"
          placeholder="you@example.com"
          class="h-[2.4rem] w-full px-[1rem] rounded-[0.6rem] border border-border bg-card text-foreground text-[0.9rem] focus:outline-none focus:ring-2 focus:ring-ring/30 transition-colors"
          required
        />
      </div>

      <div>
        <div class="flex items-center justify-between mb-1">
          <label for="password" class="text-sm font-medium text-foreground">Password</label>
          <button
            type="button"
            class="text-xs text-muted-foreground hover:text-foreground bg-transparent border-0"
          >
            Forgot password?
          </button>
        </div>

        <div class="relative">
          <input
            id="password"
            [type]="showPass() ? 'text' : 'password'"
            [ngModel]="password()"
            (ngModelChange)="onPasswordChange($event)"
            name="password"
            placeholder="••••••••"
            [class.border-red-500]="isPassTyped() && !isPassValid()"
            class="h-[2.4rem] w-full px-[1rem] rounded-[0.6rem] border border-border bg-card text-foreground text-[0.9rem] focus:outline-none focus:ring-2 focus:ring-ring/30 transition-colors"
            required
          />
          <button
            type="button"
            (click)="togglePass()"
            class="absolute right-[0.8rem] top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground bg-transparent border-0 flex items-center"
          >
            <lucide-icon [name]="showPass() ? Eye : EyeOff" class="w-4 h-4"></lucide-icon>
          </button>
        </div>
        <p
          class="text-[10px] text-muted-foreground mt-1"
          [ngClass]="
            isPassTyped()
              ? isPassValid()
                ? 'text-green-500'
                : 'text-red-500'
              : 'text-muted-foreground'
          "
        >
          @if (isPassTyped() && !isPassValid()) {
            <lucide-icon [img]="CircleAlert" class="inline w-3 h-3 mr-1"></lucide-icon>
          }
          Must be at least 8 characters
        </p>
      </div>

      <button
        type="submit"
        [disabled]="isLoading()"
        class="w-full h-[2.4rem] py-2 px-4 bg-primary text-primary-foreground font-semibold rounded-md hover:opacity-90 transition-opacity disabled:opacity-50 mt-2"
      >
        {{ isLoading() ? 'Creating account...' : 'Sign Up' }}
      </button>
    </form>

    <p class="text-center text-sm text-muted-foreground mt-6">
      Already have an account?
      <a routerLink="/login" class="font-semibold text-foreground hover:underline ml-1">Login</a>
    </p>
  </div>
</div>
